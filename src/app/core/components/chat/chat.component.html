<h1 class="text-center blue-text">Discussion avec l'assistant </h1>
<hr class="ligne">
<div class="card p-4 col-10 rounded-2 chatbox m-4">
  <div class="messageContainer table-responsive" ngx-auto-scroll lock-y-offset="4" observe-attributes>
    <div *ngIf="messages.length > 0">
        <ng-container *ngFor="let message of messages" >
            <app-content-message [message]='message' id="a"></app-content-message>
          </ng-container>
    </div>
    <div *ngIf="messages.length === 0">
      <h4> Envoyer votre premier message en cliquant en bas <i class="fi flaticon-communication"></i> </h4>
    </div>
  </div>
   
  <div class="md-form inputMessage input-group mt-0 mb-3">
      <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '1px' }" (click)="disableSpeechRecognition()"></ngx-loading> 
    <div class="input-group-prepend">
      <span class="input-group-text"><i class="fi flaticon-send-message-button icon" (click)="sendMessage()" [ngx-scroll-to]="'#a'"></i></span>
    </div>
    <input type="text" class="form-control" 
           aria-label="Amount (to the nearest dollar)" 
           [(ngModel)]="speechData"
           (keyup.enter)="sendMessage()"
           placeholder="Your message">
    <div class="input-group-append">
      <span class="input-group-text">
        <i class="fi flaticon-microphone icon " (click)="activateSpeechSearchMovie()" *ngIf="showSearchBtn"></i>
        <i class="fi flaticon-microphone icon " (click)="disableSpeechRecognition()" *ngIf="!showSearchBtn"></i>
      </span>
    </div>
  </div>
  
</div>
<br>